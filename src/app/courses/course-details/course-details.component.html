<div class="course-details">
    <mat-card>
        <mat-card-header>
            <mat-card-title>
                <span *ngIf="selectedCourse; else noCourseSelected">{{ selectedCourse.title | titlecase }}</span>
                <ng-template #noCourseSelected>Select a Course</ng-template>
            </mat-card-title>
        </mat-card-header>
        <form #form="ngForm" (submit)="saveCourse(selectedCourse)">
          <mat-card-content>
          <pre *ngIf="selectedCourse">{{ selectedCourse | json }}</pre>
          <!-- COURSE FORM -->
            <mat-form-field class="full-width">
              <input 
                matInput
                placeholder="Title"
                [(ngModel)]="selectedCourse.title"
                name="title"
                required
                type="text"
              />
            </mat-form-field>
            <mat-form-field>
              <input 
                matInput
                placeholder="Description"
                [(ngModel)]="selectedCourse.description"
                name="description"
                type="text"                  
              />
            </mat-form-field>
            <mat-form-field>
              <label for="percentComplete">{{ selectedCourse.percentComplete }}% Complete:</label>
              <mat-slider
                        thumbLabel
                        class="full-width"
                        min="0"
                        max="100"
                        aria-label="percent complete"
                        [(ngModel)]="selectedCourse.percentComplete"
                        id="percentComplete"
                        name="percentComplete"
                        [displayWith]="formatLabel.bind(this)"
                    >
              </mat-slider>
              <input matInput hidden/>
            </mat-form-field>
            <mat-form-field>
              <label for="isFavorite">Favorite:</label>
              <mat-checkbox
                id="isFavorite"
                aria-label="is favorite course"
                [(ngModel)]="selectedCourse.favorite"
                name="isFavorite"
              >
              <input matInput hidden />
              </mat-checkbox>
            </mat-form-field>
          </mat-card-content>
          <mat-card-actions>

          <!-- COURSE ACTIONS -->
          <button *ngIf="selectedCourse.id" [disabled]="form.invalid" type="submit" class="primary" mat-button >Save</button>
          <button *ngIf="selectedCourse.id" type="button" mat-button (click)="reset(); $event.stopImmediatePropagation()">Cancel</button>
          </mat-card-actions>
        </form>
        <hr />
        <pre>{{ form.value | json }}</pre>
        <pre>{{  form.valid | json }}</pre>
    </mat-card>
</div>
